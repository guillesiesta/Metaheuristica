define(["require","exports","tslib","modules/clean/video_annotations_prototype/store/types","modules/clean/video_annotations_prototype/store/annotations_api","modules/clean/react/file_sidebar/store/sidebar/types","modules/clean/react/file_sidebar/store/sidebar/actions","modules/clean/react/file_sidebar/store/instance","modules/clean/api_v2/error"],function(e,t,n,r,o,s,a,i,c){"use strict";function u(){return{type:r.ActionType.AddCommentFetch,payload:{}}}function d(){return{type:r.ActionType.GetCommentsFetch,payload:{}}}function l(){return{type:r.ActionType.ResolveCommentFetch,payload:{}}}function m(){return{type:r.ActionType.DeleteCommentFetch,payload:{}}}function p(e){return{type:r.ActionType.GetSingleCommentSuccess,payload:{comment:e}}}function f(e,t){return{type:r.ActionType.GetCommentsSuccess,payload:{comments:e,ownersToNotify:t}}}function _(){return{type:r.ActionType.CheckHasOnboardedFetch,payload:{}}}function y(e){return{type:r.ActionType.CheckHasOnboardedSuccess,payload:{hasOnboarded:e}}}function h(){return{type:r.ActionType.GenericError,payload:{}}}function b(e,t,r,s,a){var i=this;return function(c){return n.__awaiter(i,void 0,void 0,function(){var i,d;return n.__generator(this,function(n){switch(n.label){case 0:c(u()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new o.VideoAnnotationsApi(e).addComment(o.makeFileInfo(t.file_id,r),s,a)];case 2:return i=n.sent(),c(p(i)),[3,4];case 3:return d=n.sent(),c(h()),[3,4];case 4:return[2]}})})}}function v(e,t,r){var u=this;return function(l){return n.__awaiter(u,void 0,void 0,function(){var u,m,p;return n.__generator(this,function(n){switch(n.label){case 0:l(d()),n.label=1;case 1:return n.trys.push([1,6,,7]),u=void 0,e?[4,new o.VideoAnnotationsApi(e).fetchComments(o.makeFileInfo(t.file_id,r))]:[3,3];case 2:return u=n.sent(),[3,5];case 3:return[4,o.loggedOutFetchComments(o.makeFileInfo(t.file_id,r))];case 4:u=n.sent(),n.label=5;case 5:return l(f(u.comments,u.owners_to_notify)),i.store.dispatch(a.setComments2FetchStatus({status:s.PermissionStatus.RECEIVED})),[3,7];case 6:return m=n.sent(),m instanceof c.ApiError&&(p=m,p.error&&"not_eligible_for_experiment"===p.error[".tag"]&&i.store.dispatch(a.setComments2FetchStatus({status:s.PermissionStatus.DISABLED}))),l(h()),[3,7];case 7:return[2]}})})}}function A(e,t,r,s){var a=this;return function(i){return n.__awaiter(a,void 0,void 0,function(){var a,c;return n.__generator(this,function(n){switch(n.label){case 0:i(l()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new o.VideoAnnotationsApi(e).resolveComment(o.makeFileInfo(t.file_id,r),s.comment_gid)];case 2:return a=n.sent(),i(p(a)),[3,4];case 3:return c=n.sent(),i(h()),[3,4];case 4:return[2]}})})}}function w(e,t,r,s){var a=this;return function(i){return n.__awaiter(a,void 0,void 0,function(){var a,c;return n.__generator(this,function(n){switch(n.label){case 0:i(m()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new o.VideoAnnotationsApi(e).deleteComment(o.makeFileInfo(t.file_id,r),s.comment_gid)];case 2:return a=n.sent(),i(p(a)),[3,4];case 3:return c=n.sent(),i(h()),[3,4];case 4:return[2]}})})}}function C(e){var t=this;return function(r){return n.__awaiter(t,void 0,void 0,function(){var t,s;return n.__generator(this,function(n){switch(n.label){case 0:r(_()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new o.VideoAnnotationsApi(e).checkHasOnboarded()];case 2:return t=n.sent(),r(y(t)),[3,4];case 3:return s=n.sent(),r(h()),[3,4];case 4:return[2]}})})}}function g(e){var t=this;return function(s){return n.__awaiter(t,void 0,void 0,function(){var t,a;return n.__generator(this,function(n){switch(n.label){case 0:t={type:r.ActionType.DismissOnboardingBubble,payload:{}},s(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new o.VideoAnnotationsApi(e).markHasOnboarded()];case 2:return n.sent(),[3,4];case 3:return a=n.sent(),s(h()),[3,4];case 4:return[2]}})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.addComment=b,t.fetchComments=v,t.resolveComment=A,t.deleteComment=w,t.checkHasOnboarded=C,t.dismissOnboardingBubble=g});
//# sourceMappingURL=actions.min.js-vflAW1da8.map