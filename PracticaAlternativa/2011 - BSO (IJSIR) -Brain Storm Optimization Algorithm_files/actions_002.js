define(["require","exports","tslib","modules/clean/react/comments2/store/api","modules/clean/api_v2/error","modules/clean/react/file_sidebar/store/sidebar/types","modules/clean/react/file_sidebar/store/sidebar/actions","modules/clean/react/file_sidebar/store/instance","modules/clean/react/comments2/store/types"],function(e,t,r,n,s,o,a,i,c){"use strict";function u(){return{type:c.ActionType.ListCommentsRequest,payload:{}}}function m(){return{type:c.ActionType.ListCommentsError,payload:{}}}function d(e){return{type:c.ActionType.ListCommentsSuccess,payload:{threads:e}}}function l(){return{type:c.ActionType.AddCommentRequest,payload:{}}}function p(){return{type:c.ActionType.AddCommentError,payload:{}}}function f(e){return{type:c.ActionType.AddCommentSuccess,payload:{thread:e}}}function y(e,n){var c=this;return function(l){return r.__awaiter(c,void 0,void 0,function(){var c,p,f,y;return r.__generator(this,function(r){switch(r.label){case 0:l(u()),c=t.api.create(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.listComments(n)];case 2:return p=r.sent().threads,l(d(p)),i.store.dispatch(a.setComments2FetchStatus({status:o.PermissionStatus.RECEIVED})),[3,4];case 3:return f=r.sent(),f instanceof s.ApiError&&(y=f,y.error&&"file_not_found"===y.error[".tag"]&&i.store.dispatch(a.setComments2FetchStatus({status:o.PermissionStatus.DISABLED}))),l(m()),[3,4];case 4:return[2]}})})}}function C(e,n,s,o){var a=this;return function(i){return r.__awaiter(a,void 0,void 0,function(){var a,c,u;return r.__generator(this,function(r){switch(r.label){case 0:i(l()),a=t.api.create(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.addComment(n,s,o)];case 2:return c=r.sent().thread,i(f(c)),[3,4];case 3:return u=r.sent(),i(p()),[3,4];case 4:return[2]}})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.api={create:function(e){return new n.Comments2Api(e)}},t.listCommentsRequest=u,t.listCommentsError=m,t.listCommentsSuccess=d,t.addCommentRequest=l,t.addCommentError=p,t.addCommentSuccess=f,t.listComments=y,t.addComment=C});
//# sourceMappingURL=actions.min.js-vflto9Qfd.map