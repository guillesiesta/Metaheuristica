define(["require","exports","tslib","external/classnames","external/react","modules/clean/abuse/report_flag","modules/clean/react/account_menu/account_menu","modules/clean/react/file_action_button","modules/clean/react/file_action_button_type","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/utils","modules/clean/react/open_in_app/button","modules/clean/react/share_download/button","modules/clean/react/share_sync/button","modules/clean/react/shared_link/actions","modules/clean/react/title_bar/controls_container","modules/clean/react/user_notifications/dropdown","modules/clean/react/size_class/constants","modules/clean/react/title_bar/overflow_menu","modules/clean/react/share_download/util","modules/clean/viewer","modules/core/i18n"],function(e,n,t,r,a,o,l,i,s,c,u,m,d,_,h,p,f,k,v,y,L,b){"use strict";function E(e){var n=e.isPrimaryButton;return a.createElement("a",{className:r({"button-primary":!n,"button-secondary":n},"sign-in-link","control__button"),href:u.sharedLinkLoginUrl},b._("Sign in"))}function w(e){var n=e.accountMenuOptions,r=e.canRemoveLink,o=e.canRemoveLinkUids,i=e.displayName,s=e.linkKey,c=e.folder,m=e.sharedLinkInfo,d=e.shareToken,_=e.sharePermission,h=e.user;return a.createElement("div",{className:"react-title-bar__controls"},null!=h?a.createElement("div",{className:"fsl-account-menu-small"},a.createElement(l.AccountMenu,t.__assign({},n,{user:h,viewer:L.Viewer.get_viewer()}))):null,a.createElement(v.OverflowMenu,null,r?a.createElement(S,{contentName:i,linkKey:s,userId:o[0]}):null,y.getDownloadOptionsAsPopoverOrMobileItems(_,m,d,c),null==h?a.createElement(v.PopoverOrMobileItem,{href:u.sharedLinkLoginUrl},b._("Sign in")):null))}Object.defineProperty(n,"__esModule",{value:!0});var O=(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.accountMenuOptions,r=e.folder,i=e.outOfQuota,s=e.sharedLinkInfo,u=e.sharePermission,h=e.shareToken,y=e.showSyncCoachmark,b=e.sizeClass,O=e.user,g=s.hasPublicAudienceOrVisibility,N=u.canRemoveLinkUids,I=u.canSyncToDropboxRoles,M=h.displayName,P=h.linkKey,C=N.length>0;if(b===k.SizeClass.Small)return a.createElement(w,{accountMenuOptions:n,canRemoveLink:C,canRemoveLinkUids:N,displayName:M,linkKey:P,folder:r,sharedLinkInfo:s,shareToken:h,sharePermission:u,user:O});var T=I.length>0,A=!!r.open_in_app_data;return a.createElement(p.TitleBarControlsContainer,null,g!==!1?a.createElement(o.ReportFlag,{isFolderLink:!0,sharedLink:s.url,shareToken:h}):null,A?a.createElement(m.OpenInAppButton,{urls:r.open_in_app_data,userActionContext:c.UserActionContext.TitleBarMain}):null,null!=O?a.createElement(l.AccountMenu,t.__assign({},n,{user:O,viewer:L.Viewer.get_viewer()})):a.createElement(E,{isPrimaryButton:A}),T?a.createElement(_.ShareSyncButton,{folder:r,outOfQuota:i,sharedLinkInfo:s,sharePermission:u,shareToken:h,showSyncCoachmark:y,user:O}):null,a.createElement(d.ShareDownloadButton,{fileOrFolder:r,sharedLinkInfo:s,shareToken:h,sharePermissions:u,user:O}),a.createElement(v.OverflowMenu,{hideOnDisabled:!0},C?a.createElement(S,{contentName:M,linkKey:P,userId:N[0]}):null),null!=O?a.createElement("div",{className:"react-title-bar__divider"}):null,null!=O?a.createElement(f.UserNotificationsDropdown,{isPagelet:!1}):null)},n})(a.Component);n.SharedLinkFolderControls=O;var S=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.removeShareLink=function(e){e.preventDefault();var t=n.props,r=t.contentName,a=t.userId,o=t.linkKey;h.removeLinkAsNonOwner(a,o,r)},n}return t.__extends(n,e),n.prototype.render=function(){return a.createElement(v.PopoverOrMobileItem,{className:"__remove_share_link",onSelect:this.removeShareLink},s.getFileActionButtonText(i.FileActionButtonType.REMOVE_LINK))},n})(a.Component);n.RemoveShareLink=S,n.SharedLinkControlsSmall=w});
//# sourceMappingURL=controls.min.js-vfllC8ad1.map