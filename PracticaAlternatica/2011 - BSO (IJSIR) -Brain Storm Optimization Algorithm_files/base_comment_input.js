define(["require","exports","tslib","external/classnames","external/react","external/react-dom","modules/clean/react/css","modules/clean/video_annotations_prototype/components/avatar"],function(e,t,n,o,a,r,c,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=function(){var e=r.findDOMNode(n.refs.content).innerText.trim();n.props.onChange(e)},n.handleClick=function(){n.props.onClick&&n.props.onClick()},n.handlePostClick=function(){var e=n.props,t=e.onChange,o=e.onSubmit;e.text.length&&o&&(o(),n.clearTextInput(),t(""),n.refs.postButton.blur())},n.handleCancelClick=function(){var e=n.props.onChange;n.clearTextInput(),e("")};try{n.mutationObserver=new MutationObserver(n.handleChange)}catch(e){n.mutationObserver=void 0}return n}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=r.findDOMNode(this.refs.content);this.props.autoFocus&&e.focus(),this.mutationObserver&&this.mutationObserver.observe(e,{attributes:!0,characterData:!0,childList:!0,subtree:!0})},t.prototype.componentWillUnmount=function(){this.mutationObserver&&this.mutationObserver.disconnect()},t.prototype.clearTextInput=function(){var e=r.findDOMNode(this.refs.content);e&&(e.innerHTML="")},t.prototype.render=function(){var e=this.props,t=e.children,n=e.placeholderText,r=void 0===n?"":n,c=e.text,i=e.user,l=i&&a.createElement(s.CommenterAvatar,{user:i}),m=0===c.length,u=o("comment-button",{disabled:m});return a.createElement("div",{className:"video-comment-input"},a.createElement("div",{className:"comment-main"},a.createElement("div",{className:"commenter-photo"},l),a.createElement("div",{className:"mentions-container"},a.createElement("div",{className:"mentions-input"},a.createElement("div",{ref:"content",className:"text-input",contentEditable:!0,onClick:this.handleClick,"data-placeholder":r,value:c})))),a.createElement("div",{className:"comment-controls"},a.createElement("div",null,t),a.createElement("div",{className:"button-controls"},!m&&a.createElement("button",{className:"comment-button",onClick:this.handleCancelClick},"Cancel"),!m&&a.createElement("span",{className:"comment-dot"}," Â· "),a.createElement("button",{className:u,ref:"postButton",onClick:this.handlePostClick},"Post"))))},t})(a.Component),l=c(i,["/static/css/video_annotation_prototype-vfly3pQQA.css"]);t.BaseCommentInput=l});
//# sourceMappingURL=base_comment_input.min.js-vflGAelcN.map